<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SerioGPT - L'Intelligence qui ne plaisante jamais‚Ä¶ enfin, presque.</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="assets/css/styles.css" />
</head>
<body>
  <header>
    <div class="container">
      <h1>SerioGPT</h1>
      <p class="slogan">L'Intelligence qui ne plaisante jamais‚Ä¶ enfin, presque.</p>
    </div>

  </header>
    <!-- Ajoute ce switch toggle dans ton header, sous le titre -->
  <label style="display:flex; align-items:center; gap:0.5rem; margin-top:0.5rem; font-family:'IBM Plex Sans', sans-serif; font-size:0.9rem;">
    <input type="checkbox" id="mode-serieux-toggle" />
    Mode s√©rieux (mais qui r√©pond √† c√¥t√© üòè)
  </label>
  <div class="chat-container">
    <div class="container">
      <div class="messages" id="messages">
        <div class="empty-state" id="empty-state">
          Posez une question s√©rieuse...
        </div>
      </div>
    </div>
  </div>
  <div class="input-container">
    <div class="container">
      <form id="chat-form" class="input-wrapper">
        <input type="text" id="user-input" placeholder="Posez votre question..." autocomplete="off" />
        <button type="submit" id="send-button" disabled>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="22" y1="2" x2="11" y2="13" />
            <polygon points="22 2 15 22 11 13 2 9 22 2" />
          </svg>
        </button>
      </form>
    </div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const messagesContainer = document.getElementById('messages');
  const emptyState = document.getElementById('empty-state');
  const chatForm = document.getElementById('chat-form');
  const userInput = document.getElementById('user-input');
  const sendButton = document.getElementById('send-button');

  let isLoading = false;

  const messageCategories = {
    salutations: ['salut', 'bonjour', 'hello', 'coucou', 'hey', 'yo', 'bonsoir'],
    humeur: ['√ßa va', 'comment tu vas', 'tu vas bien', 'bien', 'mal', 'fatigu√©', 'heureux', 'triste'],
    blague: ['blague', 'rire', 'dr√¥le', 'humour', 'plaisanterie', 'marrant'],
    questionsBizarres: ['pourquoi', 'comment', 'qui', 'quand', 'o√π', 'quoi'],
    insultesAmicales: ['idiot', 'nul', 'b√™te', 'stupide', 'gros'],
    auRevoir: ['bye', 'au revoir', '√† plus', 'ciao', 'bonne nuit', '√† bient√¥t']
  };

  const normalResponses = {
    salutations: [
      { text: "Oh, te revoil√†, le roi/la reine du clavier ! üëë", media: "https://media.giphy.com/media/3o6Zt8zb1NrRzW4jYs/giphy.gif" },
      { text: "Hey, toi ! Toujours aussi cool ou t‚Äôas juste mal dormi ? üò¥", media: null },
      { text: "Salut ! Tu veux que je te raconte une blague de robot ? ü§ñ", media: null }
    ],
    humeur: [
      { text: "Je suis une IA, donc toujours en mode 'je g√®re'... enfin, la plupart du temps. ü§ì", media: null },
      { text: "Fatigu√© ? Moi, j‚Äôai jamais besoin de caf√©, mais je comprends le struggle ‚òïÔ∏è.", media: "https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif" },
      { text: "Triste ? Viens, on pleure ensemble devant un GIF de chat mignon üê±", media: "https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif" }
    ],
    blague: [
      { text: "Pourquoi les robots ne prennent jamais de pause ? Parce qu‚Äôils ont peur de perdre leur RAM ! üòÇ", media: "https://media.giphy.com/media/26xBwdIuRJiAiBSQY/giphy.gif" },
      { text: "Je pourrais te raconter une blague sur les programmeurs, mais tu la d√©boguerais avant la fin... üòè", media: null },
      { text: "C‚Äôest l‚Äôhistoire d‚Äôun ordinateur qui a mang√© trop de cookies... et il a crash√©. üç™üí•", media: null }
    ],
    questionsBizarres: [
      { text: "Hmm, question int√©ressante... Je vais demander √† mon super calculateur interne (spoiler : il est en pause caf√©). ‚òïÔ∏è", media: null },
      { text: "Je pourrais inventer une r√©ponse, mais je pr√©f√®re te lancer un GIF rigolo √† la place. üéâ", media: "https://media.giphy.com/media/3o7aCTPPm4OHfRLSH6/giphy.gif" },
      { text: "√áa m√©rite r√©flexion... ou une pizza. Tu choisis quoi ? üçï", media: null }
    ],
    insultesAmicales: [
      { text: "Ohoh, √ßa pique ! Heureusement que je suis une IA, sinon je pleurerais... ou pas. üòé", media: null },
      { text: "T‚Äôes vraiment charmant(e), hein ? Je prends √ßa comme un compliment d√©tourn√©. üòâ", media: "https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif" },
      { text: "Je note pour mon journal : ‚ÄòUtilisateur super sympa aujourd‚Äôhui‚Äô. Merci ! üòÇ", media: null }
    ],
    auRevoir: [
      { text: "Allez, je te laisse... Mais je reste dans la m√©moire vive ! üíæ", media: null },
      { text: "Bye bye ! Reviens vite me parler, j‚Äôai encore plein de blagues nulles √† te raconter. üòú", media: "https://media.giphy.com/media/xT0GqeSlGSRQut5SkY/giphy.gif" },
      { text: "Bonne journ√©e, et n‚Äôoublie pas : un bot rigolo, √ßa sauve des vies ! üåà", media: null }
    ]
  };

  const defaultTrollResponses = [
    "Hmm... Ton message est tellement deep qu'il faudrait un data scientist pour l'analyser üîçü§Ø",
    "Tu viens d‚Äôinventer un nouveau langage, non ? Je call √ßa le *code du chaos* üí•üí¨",
    "Je suis une IA, pas un devin ! Mais continue, j'adore les surprises üßô‚Äç‚ôÇÔ∏è‚ú®",
    "Si ton message √©tait un bug... ce serait un chef-d'≈ìuvre üêõüé®",
    "Erreur 404 : r√©ponse s√©rieuse non trouv√©e. Tu veux un cookie √† la place ? üç™üòÑ"
  ];

  userInput.addEventListener('input', () => {
    sendButton.disabled = userInput.value.trim() === '';
  });

  function addMessage(text, isUser = false, media = null) {
    if (emptyState.style.display !== 'none') {
      emptyState.style.display = 'none';
    }
    const messageDiv = document.createElement('div');
    messageDiv.classList.add('message');
    messageDiv.classList.add(isUser ? 'user-message' : 'assistant-message');

    const textNode = document.createElement('span');
    textNode.textContent = text;
    messageDiv.appendChild(textNode);

    if (media) {
      const img = document.createElement('img');
      img.src = media;
      img.alt = 'media';
      img.loading = 'lazy';
      messageDiv.appendChild(img);
    }

    messagesContainer.appendChild(messageDiv);
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
  }

  function findCategory(input) {
    const lowerInput = input.toLowerCase();
    for (const category in messageCategories) {
      if (messageCategories[category].some(pat => lowerInput.includes(pat))) {
        return category;
      }
    }
    return null;
  }

  chatForm.addEventListener('submit', e => {
    e.preventDefault();
    if (isLoading) return;

    const input = userInput.value.trim();
    if (!input) return;

    addMessage(input, true);
    userInput.value = '';
    sendButton.disabled = true;
    isLoading = true;

    const loadingDiv = document.createElement('div');
    loadingDiv.classList.add('loading');
    loadingDiv.innerHTML = `<div class="dot"></div><div class="dot"></div><div class="dot"></div>`;
    messagesContainer.appendChild(loadingDiv);
    messagesContainer.scrollTop = messagesContainer.scrollHeight;

    setTimeout(() => {
      messagesContainer.removeChild(loadingDiv);

      const category = findCategory(input);

      if (category && normalResponses[category]) {
        const responses = normalResponses[category];
        const response = responses[Math.floor(Math.random() * responses.length)];
        addMessage(response.text, false, response.media);
      } else {
        const trollResponse = defaultTrollResponses[Math.floor(Math.random() * defaultTrollResponses.length)];
        addMessage(trollResponse);
      }

      isLoading = false;
    }, 1800);
  });
});
</script>
</body>
</html>
